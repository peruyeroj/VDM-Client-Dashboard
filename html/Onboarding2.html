<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Form</title>
    <style type="text/css">
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
      }

      .container {
        max-width: 800px;
        margin: 20px auto;
        padding: 20px;
        background: #fff;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }

      h2,
      h3 {
        text-align: center;
      }

      .section {
        margin-bottom: 20px;
      }

      .section h4 {
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
        background-color: #007bff;
        color: white;
        padding: 10px;
        border-radius: 5px;
      }

      .content {
        display: none;
        margin-top: 10px;
      }

      label {
        display: block;
        margin: 10px 0;
      }

      input[type="text"],
      input[type="email"],
      input[type="date"] {
        width: 100%;
        padding: 10px;
        margin-top: 5px;
        border: 1px solid #ccc;
        border-radius: 5px;
      }

      button[type="submit"] {
        display: block;
        width: 100%;
        padding: 10px;
        background-color: #28a745;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
      }

      button[type="submit"]:hover {
        background-color: #218838;
      }

      .required-star {
        color: red;
        margin-left: 5px;
      }

      #next {
        text-decoration: none;
      }

      input[type="checkbox"].self-manage {
        border: 2px solid white;
        border-radius: 3px;
        outline: none;
        cursor: pointer;
        background-color: transparent;
      }

      input[type="checkbox"].self-manage:checked {
        background-color: white;
      }

      input[type="checkbox"].self-manage:checked::before {
        content: "\2714";
        display: block;
        text-align: center;
        color: #007bff;
        font-size: 12px;
        line-height: 16px;
      }

      .self-manage {
        margin-right: 5px;
      }

      .checkbox-container {
        display: inline-flex;
        align-items: center;
        margin-left: 10px;
      }

      .checkbox-container input[type="checkbox"] {
        margin-left: 10px;
      }

      .checkbox-container label {
        font-size: 14px;
        margin-left: 5px;
        color: white;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h2>Building Representative/Building Manager Forms</h2>
      <form id="main-form">
        <h3>Required Information</h3>
        <div class="section">
          <h4 onclick="toggleSection('billing-representative')">
            Billing Representative/Accounts Payable Contact
            <input
              type="checkbox"
              id="billing-representative-checkbox"
              disabled
            />
          </h4>
          <div id="billing-representative" class="content">
            <label>
              First Name:
              <input
                type="text"
                name="billingRepFirstName"
                placeholder="John"
                required
              />
            </label>
            <label>
              Last Name:
              <input
                type="text"
                name="billingRepLastName"
                placeholder="Doe"
                required
              />
            </label>
            <label>
              Phone:
              <input
                type="text"
                name="billingRepPhone"
                placeholder="(212) 555-1234"
                required
              />
            </label>
            <label>
              Company Name:
              <input
                type="text"
                name="billingRepCompanyName"
                placeholder="XYZ Corp"
                required
              />
            </label>
            <label>
              Company Phone #:
              <input
                type="text"
                name="billingRepCompanyPhone"
                placeholder="(212) 555-5678"
                required
              />
            </label>
            <label>
              Address:
              <input
                type="text"
                name="billingRepAddress"
                placeholder="123 Main St, New York, NY 10001"
                required
              />
            </label>
          </div>
        </div>
        <div class="section">
          <h4 onclick="toggleSection('police-precinct')">
            Police Precinct
            <input type="checkbox" id="police-precinct-checkbox" disabled />
          </h4>
          <div id="police-precinct" class="content">
            <label>
              Police Precinct:
              <input
                type="text"
                name="policePrecinct"
                placeholder="e.g. closest police station"
              />
            </label>
          </div>
        </div>
        <div class="section">
          <label>
            Activate Building as of:
            <span class="checkbox-container">
              <input type="checkbox" id="activate-building-checkbox" disabled />
            </span>
            <input
              type="date"
              name="activateBuildingDate"
              id="calendar"
              disabled
            />
          </label>
        </div>

        <h3>Optional Information</h3>
        <div class="section">
          <h4 onclick="toggleSection('managementCompany')">
            Management Company
            <span class="checkbox-container">
              <input
                type="checkbox"
                id="managementCompany-self-manage"
                class="self-manage"
              />
              <label for="managementCompany-self-manage">Self Manage</label>
            </span>
          </h4>

          <div id="managementCompany" class="content">
            <div>
              <label for="managementCompanyName">Management Company:</label>
              <input
                type="text"
                id="managementCompanyName"
                name="managementCompanyName"
                placeholder="ABC Management"
                required
              />
            </div>
            <div>
              <label for="managementCompanyAddress">Address:</label>
              <input
                type="text"
                id="managementCompanyAddress"
                name="managementCompanyAddress"
                placeholder="456 Another St, New York, NY 10002"
                required
              />
            </div>
            <div>
              <label for="managementCompanyCity">City:</label>
              <input
                type="text"
                id="managementCompanyCity"
                name="managementCompanyCity"
                placeholder="New York"
                required
              />
            </div>
            <div>
              <label for="managementCompanyState">State:</label>
              <input
                type="text"
                id="managementCompanyState"
                name="managementCompanyState"
                placeholder="NY"
                required
              />
            </div>
            <div>
              <label for="managementCompanyZip">Zip Code:</label>
              <input
                type="text"
                id="managementCompanyZip"
                name="managementCompanyZip"
                placeholder="10002"
                required
              />
            </div>
            <div>
              <label for="primaryContact">Primary Contact:</label>
              <input
                type="text"
                id="primaryContact"
                name="primaryContact"
                placeholder="John Smith"
                required
              />
            </div>
            <div>
              <label for="managementPhone">Office Phone #:</label>
              <input
                type="text"
                id="managementPhone"
                name="managementPhone"
                placeholder="(212) 555-6789"
                required
              />
            </div>
            <div>
              <label for="managementMobile">Mobile Phone #:</label>
              <input
                type="text"
                id="managementMobile"
                name="managementMobile"
                placeholder="(212) 555-9876"
                required
              />
            </div>
            <div>
              <label for="managementEmail">Email:</label>
              <input
                type="email"
                id="managementEmail"
                name="managementEmail"
                placeholder="john.smith@abcmanagement.com"
                required
              />
            </div>
            <div>
              <label for="secondaryContact">Secondary Contact:</label>
              <input
                type="text"
                id="secondaryContact"
                name="secondaryContact"
                placeholder="Jane Doe"
              />
            </div>
            <div>
              <label for="tertiaryContact">Tertiary Contact:</label>
              <input
                type="text"
                id="tertiaryContact"
                name="tertiaryContact"
                placeholder="James Brown"
              />
            </div>
          </div>
        </div>
        <div class="section">
          <h4 onclick="toggleSection('superintendent')">
            Superintendent
            <span class="checkbox-container">
              <input
                type="checkbox"
                id="superIntendent-self-manage"
                class="self-manage"
              />
              <label for="superIntendent-self-manage">Self Manage</label>
            </span>
          </h4>
          <div id="superintendent" class="content">
            <label>
              First Name:
              <input type="text" name="superFirstName" placeholder="Michael" />
            </label>
            <label>
              Last Name:
              <input type="text" name="superLastName" placeholder="Johnson" />
            </label>
            <label>
              Email:
              <input
                type="email"
                name="superEmail"
                placeholder="michael.johnson@example.com"
              />
            </label>
            <label>
              Company Name:
              <input
                type="text"
                name="superCompanyName"
                placeholder="ABC Maintenance"
              />
            </label>
            <label>
              Company Address:
              <input
                type="text"
                name="superCompanyAddress"
                placeholder="789 Yet Another St, New York, NY 10003"
              />
            </label>
            <label>
              Company Phone #:
              <input
                type="text"
                name="superCompanyPhone"
                placeholder="(212) 555-1122"
              />
            </label>
            <label>
              Work Schedule:
              <input
                type="text"
                name="superWorkSchedule"
                placeholder="M-F: 8am-5pm"
              />
            </label>
          </div>
        </div>
        <div class="section">
          <h4 onclick="toggleSection('all-other-staff')">
            All Other Staff
            <span class="checkbox-container">
              <input
                type="checkbox"
                id="all-other-staff-self-manage"
                class="self-manage"
              />
              <label for="all-other-staff-self-manage">Self Manage</label>
            </span>
          </h4>
          <div id="all-other-staff" class="content">
            <label>
              Title:
              <input type="text" name="staffTitle" placeholder="Janitor" />
            </label>
            <label>
              First Name:
              <input type="text" name="staffFirstName" placeholder="Jane" />
            </label>
            <label>
              Last Name:
              <input type="text" name="staffLastName" placeholder="Doe" />
            </label>
            <label>
              Email:
              <input
                type="email"
                name="staffEmail"
                placeholder="jane.doe@example.com"
              />
            </label>
            <label>
              Company Name:
              <input
                type="text"
                name="staffCompanyName"
                placeholder="XYZ Corp"
              />
            </label>
            <label>
              Company Address:
              <input
                type="text"
                name="staffCompanyAddress"
                placeholder="123 Main St, New York, NY 10001"
              />
            </label>
            <label>
              Company Phone #:
              <input
                type="text"
                name="staffCompanyPhone"
                placeholder="(212) 555-3344"
              />
            </label>
          </div>
        </div>
        <div class="section">
          <h4 onclick="toggleSection('virtual-doorman-ambassador')">
            Virtual Doorman Ambassador
            <span class="checkbox-container">
              <input
                type="checkbox"
                id="virtual-doorman-ambassador-self-manage"
                class="self-manage"
              />
              <label for="virtual-doorman-ambassador-self-manage"
                >Self Manage</label
              >
            </span>
          </h4>
          <div id="virtual-doorman-ambassador" class="content">
            <label>
              First Name:
              <input type="text" name="doormanFirstName" placeholder="Alex" />
            </label>
            <label>
              Last Name:
              <input type="text" name="doormanLastName" placeholder="Smith" />
            </label>
            <label>
              Email:
              <input
                type="email"
                name="doormanEmail"
                placeholder="alex.smith@example.com"
              />
            </label>
            <label>
              Company Name:
              <input
                type="text"
                name="doormanCompanyName"
                placeholder="Virtual Doorman Inc."
              />
            </label>
            <label>
              Company Address:
              <input
                type="text"
                name="doormanCompanyAddress"
                placeholder="130 W 19th St PENTHOUSE 1B, New York, NY 10011"
              />
            </label>
            <label>
              Company Phone #:
              <input
                type="text"
                name="doormanCompanyPhone"
                placeholder="(212) 555-4455"
              />
            </label>
          </div>
        </div>
        <div class="section">
          <h4 onclick="toggleSection('secretary')">
            Board Secretary
            <span class="checkbox-container">
              <input
                type="checkbox"
                id="secretary-self-manage"
                class="self-manage"
              />
              <label for="secretary-self-manage">Self Manage</label>
            </span>
          </h4>
          <div id="secretary" class="content">
            <label>
              Name:
              <input
                type="text"
                name="secretaryName"
                placeholder="Sarah Johnson"
              />
            </label>
            <label>
              Mobile:
              <input
                type="text"
                name="secretaryMobile"
                placeholder="(212) 555-5566"
              />
            </label>
            <label>
              Email:
              <input
                type="email"
                name="secretaryEmail"
                placeholder="sarah.johnson@example.com"
              />
            </label>
          </div>
        </div>
        <div class="section">
          <h4 onclick="toggleSection('boardTreasure')">
            Board Treasure
            <span class="checkbox-container">
              <input
                type="checkbox"
                id="boardTreasure-self-manage"
                class="self-manage"
              />
              <label for="boardTreasure-self-manage">Self Manage</label>
            </span>
          </h4>
          <div id="boardTreasure" class="content">
            <label>
              Name:
              <input type="text" name="boardName" placeholder="Thomas White" />
            </label>
            <label>
              Mobile:
              <input
                type="text"
                name="boardMobile"
                placeholder="(212) 555-6677"
              />
            </label>
            <label>
              Email:
              <input
                type="email"
                name="boardEmail"
                placeholder="thomas.white@example.com"
              />
            </label>
          </div>
        </div>
        <button type="submit">
          <a id="next" href="/html/onboarding3.html">Next</a>
        </button>
      </form>
    </div>

    <script type="text/javascript">
      document.addEventListener("DOMContentLoaded", () => {
        const headers = document.querySelectorAll(".section h4");
        headers.forEach((header) => {
          header.addEventListener("click", () => {
            const content = header.nextElementSibling;
            content.style.display =
              content.style.display === "block" ? "none" : "block";
          });
        });
      });
    </script>

    <script>
      function formatPhoneNumber(value) {
        if (!value) return value;
        const phoneNumber = value.replace(/[^\d]/g, "");
        const phoneNumberLength = phoneNumber.length;
        if (phoneNumberLength < 4) return phoneNumber;
        if (phoneNumberLength < 7) {
          return `(${phoneNumber.slice(0, 3)}) ${phoneNumber.slice(3)}`;
        }
        return `(${phoneNumber.slice(0, 3)}) ${phoneNumber.slice(
          3,
          6
        )}-${phoneNumber.slice(6, 10)}`;
      }

      function phoneNumberFormatter(event) {
        const inputField = event.target;
        const formattedInputValue = formatPhoneNumber(inputField.value);
        inputField.value = formattedInputValue;
      }

      document
        .querySelectorAll('input[type="text"][name*="Phone"]')
        .forEach((inputField) => {
          inputField.addEventListener("input", phoneNumberFormatter);
        });

      document
        .querySelectorAll('input[type="text"][name*="Mobile"]')
        .forEach((inputField) => {
          inputField.addEventListener("input", phoneNumberFormatter);
        });
    </script>

    <script>
      function checkSectionCompletion() {
        const billingRepFields = [
          "billingRepFirstName",
          "billingRepLastName",
          "billingRepPhone",
          "billingRepCompanyName",
          "billingRepCompanyPhone",
          "billingRepAddress",
        ];

        const policePrecinctFields = ["policePrecinct"];

        const activateBuildingField = "activateBuildingDate";

        const isBillingRepComplete = billingRepFields.every(
          (field) =>
            document.querySelector(`input[name="${field}"]`).value.trim() !== ""
        );

        const isPolicePrecinctComplete = policePrecinctFields.every(
          (field) =>
            document.querySelector(`input[name="${field}"]`).value.trim() !== ""
        );

        const isActivateBuildingComplete =
          document
            .querySelector(`input[name="${activateBuildingField}"]`)
            .value.trim() !== "";

        document.getElementById("billing-representative-checkbox").checked =
          isBillingRepComplete;
        document.getElementById("police-precinct-checkbox").checked =
          isPolicePrecinctComplete;
        document.getElementById("activate-building-checkbox").checked =
          isActivateBuildingComplete;

        // Enable activation date input if all required sections are complete
        const activateBuildingInput = document.querySelector(
          'input[name="activateBuildingDate"]'
        );
        if (isBillingRepComplete && isPolicePrecinctComplete) {
          activateBuildingInput.disabled = false;
        } else {
          activateBuildingInput.disabled = true;
        }
      }

      document.addEventListener("DOMContentLoaded", () => {
        const form = document.getElementById("main-form");
        form.addEventListener("input", checkSectionCompletion);
      });
    </script>

    <script>
      document
        .getElementById("calendar")
        .addEventListener("input", function (e) {
          const day = new Date(this.value).getUTCDay();
          // Allow only Monday (1), Tuesday (2), Wednesday (3), Thursday (4)
          if (![1, 2, 3, 4].includes(day)) {
            alert(
              "Activation days are Monday, Tuesday, Wednesday and Thursday"
            );
            this.value = ""; // Clear the input
          }
        });
    </script>
  </body>
</html>
